<!DOCTYPE html>
<html xmlns:th="httpe://thymeleaf.org">
  <head>
    <title>Task</title>
  </head>
  <body>
    <h1 th:text="'Task ' + ${task.taskId}"> </h1>
    <div th:text="${task.name}"></div>
    
    <div th:text="${task.taskDescription}"></div>
    <div th:text="${#temporals.format(task.dateCreated, 'MM-dd-yyyy HH:mm')}"></div>
    
    <p>-----------------</p>
    <div th:text="${'User: ' + currentUser.username}"></div>
     <p>-----------------</p>
     
    
    
    <div th:each="comment : ${comments}">
      <div th:text="${comment.commentMessaage}"></div>
      <form method="post" th:action="@{/task/{taskId}/comment/{commentId}/delete(taskId = ${task.taskId}, commentId=${comment.commentId})}">
        <button id="commentDelete" type="submit"> Delete Task</button>
      </form>
    </div>
    
    <a th:href="@{/task/{taskId}/createComment/(taskId=${task.taskId})}">create Comment</a>
    
<!--     <form method="post" action="/createComment"> -->
<!--       <input  type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"> -->
<!--       <input type="text" id="commentBox"> -->
<!--       <button></button> -->
<!--     </form> -->
     
<!--     <script th:inline="javascript"> -->
<!--         var taskName='[[${task.name}]]' -->
<!--     	var userId='[[${currentUser.userId}]]' -->
<!--     	var taskId='[[${task.taskId}]]' -->
<!--     	var token='[[${_csrf.token}]]' -->
<!--     </script> -->
<!--     <script type="text/javascript" src="/js/task.js"></script> -->
  </body>
</html>